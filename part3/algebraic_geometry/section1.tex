\documentclass{ltjsreport}
\input{../../setting.tex}

\begin{document}
\section{基本的な代数幾何学}


数え上げ幾何学について述べる前に、いくつか代数幾何学の言葉を用いるのでその定義をしておく。

\subsection{代数的集合とZariski位相}
\begin{defin}
  $k$を体とする。直積集合$k^n$を$\affine^n(k)$や$\affine^n$と書き、$n$次元アフィン空間という。
\end{defin}

\begin{defin}
  $S$を$k[X_1,\cdots,X_n]$の部分集合とする。
  \[
  V(S)=\set{p\in\affine^n}{F(p)=0\text{ for all }F\in S}  
  \]
  とする。$V(S)$の形の集合を$\affine^n$の代数的集合という。
\end{defin}

$S$の生成するイデアルを$\mathfrak{a}$とすれば$V(S)=V(\mathfrak{a})$である。Hilbertの基底定理により体上の多項式環$k[X_1,\cdots,X_n]$はNoether環であるからイデアル$\mathfrak{a}$は有限生成である。
したがって$V(S)=V(F_1,\cdots,F_r)$となる多項式$F_1,\cdots,F_r\in k[X_1,\cdots,X_n]$が存在する。

\begin{eg}\label{rei1}
  $V(0)=\affine^n$, $V(1)=\varnothing$である。$k$が無限体である場合、逆にイデアル$\mathfrak{a}$に対して$V(\mathfrak{a})=\affine^n$ならば$\mathfrak{a}=(0)$である。
  
  実際、$\mathfrak{a}\neq 0$であるとして$F\in\mathfrak{a}$を$0$でも定数でもない多項式とする。$F$はある変数$X_i$に関して$1$次以上だからとくに$X_1$を含むとする。$F_*=F(X_1,0,\cdots,0)\in k[X_1]$を考えると、$F_*$の根は高々有限かつ、$k$は代数閉なので無限体だから、$V(\mathfrak{a})$に含まれない点が存在する。

  $V(\mathfrak{a})=\varnothing$ならば$\mathfrak{a}=(1)$となることは$k$が代数閉ならば成り立つが、それはHilbertの零点定理の帰結である。
\end{eg}

\begin{eg}
  $k=\real$とする。$V(Y-X^2)\subset\affine^2(\real)$は放物線$y=x^2$である。$V(X^n)=V(X)\subset \affine^2(\real)$は直線$x=0$である。
\end{eg}

\begin{eg}
  $\affine^1$の代数的集合は$\affine^1,\varnothing$と有限集合のいずれかである。実際$V(F)=\{\text{$F$の根}\}$であるが、$F$の根はたかだか有限である。
\end{eg}


\begin{prop}\label{containment1}
  $S\subset T$ならば$V(S)\supset V(T)$である。
\end{prop}

\begin{proof}
  $P\in V(T)$ならば任意の$F\in S$について、$F\in S\subset T$だから$F(P)=0$. したがって$P\in V(S)$
\end{proof}

\begin{prop}\label{zariski}
  $\affine^n$の代数的集合について
  \begin{enumerate}
    \item $V(0)=\affine^n$, $V(1)=\varnothing$
    \item $V(S)\cup V(T)=V(ST)$, ただし$ST=\set{FG}{F\in S, G\in T}$
    \item $\bigcap_{\lambda\in\Lambda}V(S_\lambda)=V(\bigcup_{\lambda\in\Lambda}S_\lambda)$
  \end{enumerate}
  が成り立つ
\end{prop}

\begin{proof}
  \begin{enumerate}
    \item はよい
    \item $p\in V(S)\cup V(T)$ならば任意の$F\in S, G\in T$について$F(p)=0$または$G(p)=0$が成り立つから、$FG(p)=F(p)G(p)=0$. よって$p\in V(ST)$である。逆に$p\in V(ST)$かつ、$p\notin V(T)$であるとする。ある$G\in T$があって$G(p)\neq 0$だから任意の$F\in S$について$0=FG(p)=F(p)G(p)$より$F(p)=0$. すなわち$p\in V(S)$
    \item $S_\lambda\subset \bigcup_{\lambda\in\Lambda} S_\lambda$だから、$V(S_\lambda)\supset V(\bigcup_{\lambda\in\Lambda}S_\lambda)$. よって$\bigcap_{\lambda\in\Lambda} V(S_\lambda)\supset V(\bigcup_{\lambda\in\Lambda} S_\lambda)$. $p\in\bigcap_{\lambda\in\Lambda}V(S_\lambda)$ならば、任意の$F\in\bigcup_{\lambda\in\Lambda}S_\lambda$に対して$F(p)=0$すなわち$p\in V(\bigcup_{\lambda\in\Lambda}S_\lambda)$
  \end{enumerate}
\end{proof}

命題\ref{zariski}より、$\affine^n$には代数的集合$V(S)$を閉集合とする位相が定まる。これを$\affine^n$のZariski位相といい、以降$\affine^n=k^n$にはいつもこの位相が入っているとする。

\begin{eg}
  $\affine^1$における閉集合は$\varnothing,\affine^1,(\text{有限集合})$であるから、Zariski位相はいわゆる補有限位相である。
\end{eg}

\begin{eg}
  $\affine^{n^2}$の座標を$x_{ij}$, $i,j=1,\cdots,n$で表す。\\$V=V(\det (X_{ij}))=\set{(x_{ij})\in\affine^2}{\det(x_{ij})=\sum_{\sigma\in\mathfrak{S}_n}\sgn(\sigma)x_{1\sigma(1)}\cdots x_{n\sigma(n)}=0}$とする。$\gl_n(k)\subset \affine^{n^2}$を$k$に成分をもつ$n$次正則行列のなす集合とすると
  \[
  \gl_n(k)=\affine^{n^2}\setminus V  
  \]
  であるから$\gl_n(k)$は$\affine^{n^2}$のZariski開集合である。
\end{eg}

\begin{eg}
  $\affine^{nd}$の座標を$x_{ij}$, $1\leq i\leq n$, $1\leq j\leq d$で表す。$\mathcal{M}(d,n)\subset\affine^{nd}$をランク$d$の$n\times d$行列全体のなす集合とする。$A\in\affine^{nd}$に対して、$A$の$i_1,\cdots,i_d$を取り出した小正方行列を$A_{i_1,\cdots,i_d}$とする。
  \begin{align*}
  \affine^{nd}\setminus \mathcal{M}(d,n)
  &=\set{A\in\affine^{nd}}{\det A_{i_1,\cdots,i_d}=0, \text{for all $1\leq i_1<\cdots<i_d\leq n$}}\\
  &=V(\{\det X_{i_1,\cdots,i_d}\}_{i_1,\cdots,i_d})
  \end{align*}
  よって$\mathcal{M}(d,n)$は$\affine^{nd}$のZariski開集合である。
\end{eg}

\begin{prop}
  $k$を無限体とすると$\affine^n$はHausdorffでない。
\end{prop}

\begin{proof}
  実際、空でない任意の2つの開集合$U,W$に対して、$\affine^n\setminus U=V(F_1\cdots,F_r)$, $\affine^n\setminus W=V(G_1,\cdots,G_s)$と置けば、
  \[
  U\cap W=(\affine^n \setminus V(F_1,\cdots,f_r))\cap (\affine^n \setminus V(G_1,\cdots,G_s))=\affine^n\setminus(V(F_1,\cdots,f_r)\cup V(G_1,\cdots,G_s))  
  \]
  だが、
  \[
    V(F_1,\cdots,F_r)\cup V(G_1,\cdots,G_s)=V(\{F_iG_j\}_{ij}) 
  \]
  となる。$U,W$は空でないので$\{F_1,\cdots,F_r\},\{F_1,\cdots,G_s\}\neq \{0\}$ゆえに、$\{F_iG_j\}_{ij}\neq \{0\}$. したがって例\ref{rei1}より$V(\{F_iG_j\}_{ij})\subsetneq \affine^n$. よって
  \[
  U\cap W\neq \varnothing
  \]
\end{proof}

\begin{prop}\label{continuity}
  $\phi:\affine^n\rightarrow \affine^m$が、ある多項式$F_1,\cdots,F_m\in k[X_1,\cdots,Xn]$に対して
  \[
  \phi(x_1,\cdots,x_n)=(F_1(x_1,\cdots,x_n),\cdots,F_m(x_1,\cdots,x_n))  
  \]
  となる(これを多項式写像という)なら、$\phi$はZariski位相に関して連続である。
\end{prop}

\begin{proof}
  $\affine^m$の閉集合$V(G_1,\cdots,G_r)$に対して、
  \[
  \inv{\phi}(V(G_1,\cdots,G_r))=V(G_1(F_1,\cdots,F_m),\cdots,G_r(F_1,\cdots,Fm))  
  \]
  が成り立つことから、$\inv{\phi}(V(G_1,\cdots,G_r))$は閉集合である。
\end{proof}

\begin{eg}\label{affine_gl_n}
  $V\subset\affine^{n^2+1}$を$V=V(T\det(X_{ij})-1)=\set{((x_{ij}),t)\in\affine^{n^2+1}}{t\det(x_{ij})=1}$とする。$\phi:V\rightarrow \gl_n(k)$を
  \[
  \phi((x_{ij}),t)=(x_{ij})  
  \]
  によて定め、、$\psi:\gl_n(k)\rightarrow V$を$\psi((x_{ij}))=((x_{ij}),\det(x_{ij})^{-1})$によって定める。$\phi,\psi$は互いに逆の写像であるが、$\phi$は多項式写像なので連続である。$\psi$の連続性を示す。$\affine^{n^2+1}$の閉集合$V(F((X_{ij}),T))$に対して、
  \[
  V\cap V(F)=\set{((x_{ij}),\det(x_{ij})^{-1})}{F((x_{ij}),\det(x_{ij})^{-1})=0}  
  \]
  だから、十分大きい整数$r\geq 0$をとって
  \[
  \psi^{-1}(V\cap V(F))=\set{(x_{ij})\in\gl_n(k)}{\det(x_{ij})^rF((x_{ij}),\det(x_{ij})^{-1})=0}  
  \]
  において$\det(x_{ij})^rF((x_{ij}),\det(x_{ij})^{-1})$を多項式にすることができる。よって$\psi^{-1}(V\cap V(F))$も閉集合である。一般の$\affine^{n^2+1}$の閉集合に対しても同様である。よって$\gl_n(k)\approx V$である。
\end{eg}




多項式環のイデアルが与えられたときにアフィン空間の部分集合を定めたが、逆にアフィン空間の部分集合からイデアルを作ることを考える。

\begin{defin}
  $A$を$\affine^n$の部分集合とする。
  \[
  I(A)=\set{F\in k[X_1,\cdots,X_n]}{F(p)=0 \text{ for all }p\in A}
  \]
  を$A$のイデアルという。
\end{defin}

\begin{eg}
  $\affine^1$において、$V(X^2)=\{0\}$だから、$I(V(X^2))=(X)\supsetneq (X^2)$である。
\end{eg}

\begin{prop}\label{containment2}
  $A\subset B$ならば$I(A)\supset I(B)$である。
\end{prop}

\begin{proof}
  $F\in I(B)$ならば、すべての$p\in A\subset B$に対して$F(p)=0$. すなわち$F\in I(A)$
\end{proof}

\begin{prop}\label{VIrelation}
  次が成り立つ。
  \begin{enumerate}
    \item $A\subset \affine^n$に対して$A\subset V(I(A))$, また$I(V(I(A)))=I(A)$
    \item $S\subset k[X_1,\cdots,X_n]$に対して$S\subset I(V(S))$, また$V(I(V(S)))=V(S)$
  \end{enumerate}
\end{prop}

\begin{proof}
  \begin{enumerate}
    \item $p\in A$として任意の$F\in I(A)$に対して定義より$F(p)=0$. すなわち$p\in V(I(A))$. \ref{containment2}より$I(V(I(A)))\subset I(A)$. $F\in I(A)$ならば任意の$p\in V(I(A))$に対して定義より$F(p)=0$. すなわち$I(A)\subset I(V(I(A)))$
    \item (i)と同様。
  \end{enumerate}
\end{proof}

\begin{prop}
  $V,W$を$\affine^n$の代数的集合とする。$V=W$であるための必要十分条件は$I(V)=I(W)$が成り立つことである。
\end{prop}

\begin{proof}
  必要性は明らか。十分性を示す。$V=V(S), W=V(T)$とする。命題\ref{VIrelation}より
  \[
  V(S)=V(I(V(S)))=V(I(V(T)))=V(T)
  \]
\end{proof}





\subsection{アフィン多様体}

\begin{defin}
  位相空間$X$の部分集合$V$について、
  \[
  \text{$X$の閉集合$V_1,V_2$が }V=V_1\cup V_2\text{をみたすなら$V_1=V$または$V_2=V$}  
  \]
  をみたすとき、$V$を既約という。既約でない集合は可約であるという。空集合は既約ではないとする。
\end{defin}

\begin{defin}
  $\affine^n$の既約な代数的集合をアフィン多様体という。アフィン多様体のZariski開集合を準アフィン多様体という。
\end{defin}

\begin{eg}
  $V(X,Y)\subset\affine^2$はアフィン多様体である。実際$V(X,Y)=\{(0,0)\}$で1点集合は既約である。
\end{eg}

\begin{eg}
  $V(Y^2-X^2)\subset \affine^2$はアフィン多様体でない。実際
  \[
  V(Y^2-X^2)=V((Y-X)(Y+X))=V(Y-X)\cup V(Y+X)
  \]
\end{eg}

\begin{prop}\label{prime_affine}
  代数的集合$V$がアフィン多様体となるための必要十分条件は$I(V)$が素イデアルとなることである。
\end{prop}

\begin{proof}
  $V$が可約であるとし、$V=V_1\cup V_2$,  $\varnothing\subsetneq V_1,V_2\subsetneq V$とする。このとき
  \[
  I(V)=I(V_1\cup V_2)=I(V_1)\cap I(V_2)  
  \]
  である。$\varnothing\subsetneq V_1,V_2\subsetneq V$より、$F\in I(V_1)\setminus I(V)$, $G\in I(V_2)\setminus I(V)$が存在するが、$FG\in I(V_1)\cap I(V_2)=I(V)$だから、$I(V)$は素イデアルでない。

  逆に$I(V)$が素イデアルでないとする。このとき$F, G\notin I(V)$で$FG\in I(V)$をみたすものが存在する。したがって
  \[
  V\subset V(I(V))\subset V(FG)
  \]
  が成り立つ。よって
  \[
  V=V\cap V(FG)=V\cap (V(F)\cup V(G))=(V\cap V(F))\cup V(\cap V(G))  
  \]
  $F\notin I(V)$, $G\notin I(V)$より$V\cap V(F), V\cap V(G)\subsetneq V$. よって$V$は可約である。
\end{proof}

\begin{eg}
  $\gl_n(k)$は$\affine^{n^2}$の準アフィン多様体であり、$\affine^{n^2+1}$のアフィン多様体としての構造ももつ。実際$\gl_n(k)=V(T\det(X_{ij})-1)$であるが、$T\det(X_{ij}-1)$は$T$について$1$次なので既約多項式である。$k[(X_{ij}),T]$はUFDなので$T\det(X_{ij})-1$は素元。したがって$V(T\det(X_{ij})-1)$は既約である。
\end{eg}






以降$k$は$\complex$などの代数閉体とする。代数閉体で考える理由の一つは次の事実である。

\begin{fact}[Hilbertの零点定理\cite{AM}]\label{nullstellenzats}
  $k$を代数閉体,$\mathfrak{a}$を$k[X_1,\cdots,X_n]$のイデアルとする。$I(V(\mathfrak{a}))=\sqrt{\mathfrak{a}}$が成り立つ。
\end{fact}

ここで、$\sqrt{\mathfrak{a}}$は$\mathfrak{a}$の根基と呼ばれるイデアルで、
\[
\sqrt{\mathfrak{a}}=\set{F\in k[X_1,\cdots,X_n]}{\text{ある整数$n\geq 0$で }F^n\in\mathfrak{a}}  
\]
で定義される。イデアルの根基に関しては、次の特徴づけがある。
\[
\sqrt{\mathfrak{a}}=\bigcap_{\mathfrak{a}\subset\mathfrak{p}}\mathfrak{p}  
\]
よってとくに、$\mathfrak{a}$が素イデアルならば$\mathfrak{a}=\sqrt{\mathfrak{a}}$が成り立つ(逆は一般に成り立たない)。

また、$\sqrt{\mathfrak{a}}=\mathfrak{a}$が成り立つとき、$\mathfrak{a}$を根基イデアルという。$V(\mathfrak{a})=V(\sqrt{\mathfrak{a}})$に注意すると、事実\ref{nullstellenzats}と命題\ref{prime_affine}より、$\affine^n$の代数的集合は$k[X_1,\cdots,X_n]$の根基イデアルと1対1に対応し、アフィン多様体は素イデアルと1対1に対応することがわかる。



\begin{defin}
  $X$を位相空間とする。$X$の既約な閉集合の列
  \[
  Z_0\subsetneq Z_1\subsetneq Z_2\subsetneq\cdots\subsetneq Z_n\subset X   
  \]
  の長さ$n$の上限値を$X$の次元といい、$\dim X=n$と書く。
\end{defin}

\begin{eg}
  $\dim\affine^n=n$である。例えば、$\affine^1$の既約閉集合は$\affine^1$と1点集合のみであるから、たしかに$\dim\affine^1=1$である。一般の場合の証明は省略する(\cite{RH})。
\end{eg}

\begin{eg}
  $V=V(Y-X^2)\subset\affine^2$について、$\dim V=1$であることを示す。$\phi:\affine^1\rightarrow V$を$\phi(t)=(t,t^2)$とすると$\phi$は多項式写像なので、命題\ref{continuity}(Zariski位相に関して)連続である。逆に$\psi:V\rightarrow \affine^1$を$\psi(x,y)=x$とすると$\psi$も多項式写像だから連続である。$\phi$,$\psi$は互いに逆の写像だから、$\affine^1\approx V$. よって$\dim V=1$
\end{eg}

\begin{defin}
  位相空間$X$について、$X$の任意の閉集合の列
  \[
  Z_0\subset Z_1\subset\cdots  
  \]
  が与えられたとき、ある番号$n$があって$Z_n=Z_{n+1}=\cdots$が成り立つとする。$X$がこの性質をもつときNoether的空間という。
\end{defin}

\begin{prop}
  $X$をNoether的位相空間とすると、$X$の有限個の既約閉集合$Z_1,\cdots,Z_r$が一意的に存在して
  \[
  X=Z_1\cup\cdots\cup Z_r  ,\quad i\neq j\implies Z_i\not\subset Z_j
  \]
  が成り立つ。$Z_1,\cdots,Z_r$を$X$の既約成分という。
\end{prop}

\begin{proof}
  略
\end{proof}

この命題から、任意の代数的集合はアフィン多様体の有限個の和集合で書けることがわかる。






\subsection{射影空間と射影多様体}

次に4直線問題の舞台となる射影空間について解説し、射影空間においてもアフィン空間と同様に代数的集合が定義され、既約性や次元などの概念を定義する。

\begin{defin}
  $k^{n+1}\setminus\{0\}$上の同値関係$\sim$を
  \[
  z\sim w\Leftrightarrow \text{ある$c\in k$が存在して}w=cz  
  \]
  と定義する。$\proj^n=(k^{n+1}\setminus\{0\})/\sim$を$n$次元射影空間という。$(x_0,x_1,\cdots,x_n)\in k^{n+1}$の同値類を$[x_0:x_1:\cdots:x_n]$と書いて、これを斉次座標という。自然な全射$p:k^{n+1}\setminus\{0\}\rightarrow \proj^n$を射影化と呼ぶ。また、$S\subset k^{n+1}\setminus\{0\}$が任意の$\lambda\in k^\times $に対して$\lambda S\subset S$を満たすとき、$p(S)$を$S$の射影化と呼び、$\proj(S)$と書いたりする。
\end{defin}

射影空間においても、多項式の零点集合を定義したいが、アフィン空間と同じ方法ではうまくいかない。例えば、$k=\complex$, $F=Y-X^2$として$V=\set{[x:y]\in\proj^1}{F(x,y)=0}$を考えてみる。このとき$F(1,1)=0$だから、$[1:1]\in V$となるはずだが、$[1:1]=[2:2]$かつ$F(2,2)\neq 0$だから$[1:1]\notin V$にもなってしまう。これを回避するには、多項式に少し制限を設けなければならない。

\begin{defin}
  $S\subset k[X_0,\cdots,X_n]$を斉次多項式の集合とする。
  \[
  V(S)=\set{[x_0:x_1:\cdots:x_n]}{F(x_0,x_1,\cdots,x_n)=0\text{ for all }F\in S}  
  \]
  を$\proj^n$の代数的集合という。
\end{defin}

$F$が$d$次斉次多項式であるならば、$\lambda\in k$に対して$F(\lambda X_0,\cdots,\lambda X_n)=\lambda^dF(X_0,\cdots,X_n)$が成り立つから、$p=[x_0:\cdots:x_n]\in \proj^n$に対して$p\in V(F)$となることは$p$の代表元$(x_0,\cdots,x_n)$の取り方によらない。また、アフィン空間の場合と同様、$k[X_0,X_1,\cdots,X_n]$はNoether環であるから、$S$の有限個の元$F_1,\cdots,F_r$をとることで$V(S)=V(F_1,\cdots,F_r)$とすることができる。

\begin{prop}\label{zariski_for_proj}
  $\proj^n$の代数的集合について次が成り立つ
  \begin{enumerate}
    \item $V(0)=\proj^n$, $V(1)=\varnothing$
    \item $S,T$を斉次多項式の集合とする。$V(S)\cup V(T)=V(ST)$
    \item $\{S_\lambda\}_{\lambda\in\Lambda}$を斉次多項式の集合の族とする。$\bigcap_{\lambda\in\Lambda}V(S_\lambda)=V(\bigcup_{\lambda\in\Lambda}S_\lambda)$
  \end{enumerate}
\end{prop}

\begin{proof}
  命題\ref{zariski}と同様である。
\end{proof}

命題\ref{zariski_for_proj}より、アフィン空間と同様射影空間にも、代数的集合を閉集合とする位相が定まる。これをZariski位相と呼び、以下射影空間にはいつもこの位相が入っているとする。

$k^{n+1}\setminus\{0\}$の部分集合$\tilde{U}_i$を
\[
\tilde{U}_i=\set{(x_0,x_1,\cdots,x_n)\in k^{n+1}\setminus\{0\}}{x_i\neq 0}  
\]
とする。$\tilde{U}_i$の射影化を$U_i=p(\tilde{U}_i)$とする。
\[
U_i=\set{[x_0:x_1:\cdots:x_n]\in\proj^n}{x_i\neq 0}=\set{[x_0:\cdots:x_{i-1}:1:x_{i+1}:\cdots:x_n]\in\proj^n}{x_j\in k} 
\]
また、写像$\tilde{\varphi}_i:\tilde{U}_i\rightarrow \affine^n$を
\[
\tilde{\varphi}_i(x_0,x_1,\cdots,x_n)=(\frac{x_0}{x_i},\frac{x_1}{x_i},\cdots,\frac{x_{i-1}}{x_i},\frac{x_{i+1}}{x_i},\cdots:\frac{x_n}{x_i})
\]
によって定めると$\tilde{U}_i$の射影化$U_i$に写像$\varphi:U_i\rightarrow \affine^n$を誘導する。
\[
\varphi([x_0:x_1:\cdots:x_n])=[\frac{x_0}{x_i}:\frac{x_1}{x_i}:\cdots:1:\cdots:\frac{x_n}{x_i}] 
\]
$\varphi$は全単射であり
\[
\proj^n=\bigcup_{i=0}^nU_i  
\]
がわかるが、さらに次が成り立つ。

\begin{prop}
  $U_i$はZariski開集合であり、$\varphi:U_i\rightarrow \affine^n$はZariski位相に関して同相である。
\end{prop}

\begin{proof}
  簡単のため、$i=0$の場合についてのみ示す。
  \[
  \proj^n\setminus U_0=\set{[x_0:x_1:\cdots:x_n]}{x_0=0}=V(X_0) 
  \]
  だから$U_0$は開集合である。$\varphi$が連続であることを示す。斉次とはかぎらない多項式$F\in k[X_1,\cdots,X_n]$に対して$\affine^n$の閉集合$V(F)$を考える。ポイントになるのは$F$を「斉次化」する操作である。$F$の単項式の最大次数を$d$とする。
  $F^*\in k[X_0,X_1,\cdots,X_n]$を
  \[
  F^*(X_0,X_1,\cdots,X_n)=X_0^dF(\frac{X_1}{X_0},\cdots,\frac{X_n}{X_0})
  \]
  とおくと、$F^*$は斉次多項式であり、$\inv{\varphi}(V(F))=V(F^*)\cap U_0$が成り立つことを示す。$F$に含まれる単項式$X_1^{i_1}\cdots X_n^{i_n}$について考えると、
  \[
  X_0^d(\frac{X_1}{X_0})^{i_1}\cdots(\frac{X_n}{X_0})^{i_n}=X_0^{d-(i_1+\cdots+i_n)}X_1^{i_1}\cdots X_n^{i_n} 
  \]
  となるから、$F^*$の単項式の次数はすべて$d$である。よって$F^*$は斉次多項式. $p=[x_0:x_1:\cdots:x_n]\in V(F^*)\cap U_0$であるならば、
  \[
  0=F^*(x_0,x_1,\cdots,x_n)=x_0^dF(\frac{x_1}{x_0},\cdots,\frac{x_n}{x_0})
  \]
  $x_0\neq 0$だから
  \[
  0=F(\frac{x_1}{x_0},\cdots,\frac{x_n}{x_0})=F(\varphi(p)) 
  \]
  したがって$p=[x_0:x_1:\cdots:x_n]\in \inv{\varphi}(V(F))$. 逆に$p=[x_0:x_1:\cdots:x_n]\in U_0$が$p\in\inv{\varphi}(V(F))$ならば
  \[
  F(\frac{x_1}{x_0},\cdots,\frac{x_n}{x_0})=0
  \]
  したがって
  \[
  F^*(x_0,x_1,\cdots,x_n)=x_0^dF(\frac{x_1}{x_0},\cdots,\frac{x_n}{x_0})=0
  \]
  よって$p\in V(F^*)$. したがって$\inv{\varphi}(V(F))$は閉集合である。一般の$\affine^n$の閉集合$V(F_1,\cdots,F_r)$については、今の議論と同様$\inv{\varphi}(V(F_1,\cdots,F_r))=V(F_1^*,\cdots,F_r^*)$となることが示せるので、$\varphi$は連続である。

  次に$\psi:\affine^n\rightarrow U_0$を
  \[
  \psi(x_1,\cdots,x_n)=[1:x_1:\dots:x_n]  
  \]
  によって定める。$\psi$は$\varphi$の逆写像であるので$\psi$が連続であることを示せばよい。$\proj^n$の閉集合$V(F)$ (ただし$F\in k[X_0,X_1,\cdots,X_n]$は斉次多項式)に対して、$F_*\in k[X_1,\cdots,X_n]$を
  \[
  F_*(X_1,\cdots,X_n)=F(1,X_1,\cdots,X_n)  
  \]
  とすると$\inv{\psi}(V(F)\cap U_0)=V(F_*)$となる。実際、$q=(x_1,\cdots,x_n)\in V(F_*)$であるならば
  \[
  0=F(1,x_1,\cdots,x_n)  
  \]
  ゆえに$\psi(q)=[1:x_1:\cdots:x_n]\in V(F)\cap U_0$. 逆に$q=(x_1,\cdots,x_n)\in\affine^n$が$\psi(q)\in V(F)\cap U_0$ならば$F(1,x_1,\cdots,x_n)=0$であるので$q\in V(F_*)$. よって$\inv{\psi}(V(F)\cap U_0)$は$\affine^n$の閉集合である。一般の$\proj^n$の閉集合$V(F_1,\cdots,F_r)$に対しても同様に$\inv{\psi}(V(F_1,\cdots,F_r)\cap U_0)=V(F_{1*},\cdots,F_{r*})$となることが示せるので$\psi$も連続である。
\end{proof}

\begin{prop}\label{dim_property}
  $X$を位相空間, $U$を$X$の空でない開集合とする。このとき$\dim X=\dim U$である。
\end{prop}

\begin{proof}
  略
\end{proof}

\begin{eg}
  $\proj^n=\bigcup_{i=0}^nU_i$, $U_i\approx \affine^n$より、$\dim\proj^n=n$である。
\end{eg}

\begin{eg}
  $\gl_n(k)\subset\affine^{n^2}$はZariski開集合であったから、$\dim\gl_n(k)=n^2$である。
\end{eg}

命題\ref{dim_property}より、$\dim \proj^n=n$である。$k=\real,\complex$の場合、上で与えた射影空間の開被覆は$C^\infty$多様体や複素多様体の構造も与える。

\begin{defin}
  $\proj^n$の既約閉集合を射影多様体という。
\end{defin}

$V=V(F_1,\cdots,F_r)\subset\proj^n$を射影多様体とする。$\proj^n=\bigcup_{i=0}^nU_i$より、
\[
V=\bigcup_{i=0}^n(V\cap U_i)
\]
となるが、$\varphi:U_i\rightarrow \affine^n$による同一視を思い出せば、例えば$i=0$の場合
\begin{align*}
V\cap U_0
&=\set{[x_0:x_1:\cdots:x_n]\in U_0}{F_j(x_0,x_1,\cdots,x_n)=0\text{ for all $j=1,\cdots,r$}}\\
&\approx \set{(\frac{x_1}{x_0},\cdots,\frac{x_n}{x_0})\in\affine^n}{F_j(x_0,x_1,\cdots,x_n)=0\text{ for all $j=1,\cdots,r$}}\\
&=\set{(x_1,\dots,x_n)\in\affine^n}{F_j(1,x_1,\cdots,x_n)=0\text{ for all $j=1,\cdots,r$}}\\
&=V(F_{1*},\cdots,F_{r*})
\end{align*}

$V(F_{1*},\cdots,F_{r*})\subset\affine^n$は有限個のアフィン多様体の和集合で表せたから、すべての射影多様体(さらに$\proj^n$の代数的集合)はアフィン多様体の有限個の和集合(貼り合わせ)で書ける。このようにアフィン多様体の貼り合わせになっているものや、そのZariski開集合を総称して代数多様体という(より厳密な定義は存在するがここでは省略する)。また、それに付随して代数多様射の間の射や同型\footnote{
  代数多様体$V$上の関数$f$が、各点$p$の近傍において多項式$F,G$を用いて$f=\frac{G}{F}$と表されるとき、$f$を正則関数という。代数多様体の間の写像$\varphi:W\rightarrow V$は$V$の正則関数の引き戻しが$W$の正則関数になるとき、代数多様体の射という。$V,W$が代数的集合の場合、多項式写像は代数多様体の射である。
}も定義されるが、ここでは扱わないことにする。

冒頭で述べた数え上げ問題において、「3次元空間」というのは実は「3次元複素射影空間」を指している。射影空間で考える理由として次2つがある。
\begin{itemize}
  \item $\proj^n$における$k$次元平面は$k^{n+1}$の$k+1$次元線形部分空間と1対1に対応する。
  \item $\affine^n$における平行線は$\proj^n$において交わる
\end{itemize}
この性質によって$\proj^3$では問題が簡単になるのである。これらのことを説明しよう。

\begin{defin}
  $F\in k[X_0,X_1,\cdots,X_n]$を$d$次斉次多項式とする。$V(F)\subset\proj^n$を$\proj^n$の$d$次超曲面という。とくに$d=1$のときは超平面という。$F_1,\cdots,F_r$,$(r\leq n)$を1次斉次多項式で、
  \[
  F_i=a_{i0}X_0+\cdots+a_{in}X_n
  \]
  とおいたとき、行列
  \[
  \pmat{
    a_{10} & a_{11} & \cdots & a_{1n}\\
    \vdots & \vdots & \cdots & \vdots \\
    a_{r0} & a_{r1} & \cdots & a_{rn}
  } 
  \]
  のランクが$r$であるとする。このとき$V(F_1,\cdots,F_r)$を$\proj^n$の$n-r$次元平面、または線形部分多様体という。とくに$r=n-1$のときは直線という。
\end{defin}

$V(F_1,\cdots,F_r)$はベクトル空間$k^{n+1}$の$r+1$次元部分空間の射影化として得られる。実際、
\[
\tilde{V}=\set{(x_0,x_1,\cdots,x_n)}{\pmat{
    a_{10} & a_{11} & \cdots & a_{1n}\\
    \vdots & \vdots & \cdots & \vdots \\
    a_{r0} & a_{r1} & \cdots & a_{rn}
}\pmat{x_0\\x_1\\\vdots\\x_n}=0}\subset k^{n+1}
\]
とおくと、$V=p(\tilde{V}\setminus\{0\})$である。したがって、とくに$\proj^n$中の直線全体を考えるときには、$k^{n+1}$中の平面全体を考えればよい。これは次節にGrassmann多様体として定式化される。

\begin{eg}
  直線
  \[
  L=\set{[x_0:x_1:x_2]\in\proj^2}{x_0-x_1-x_2=0}  
  \]
  を考えてみる。
  \begin{align*}
  &L\cap U_0=\set{[1:x_1:x_2]\in\proj^2}{1-x_1-x_2=0} \approx \set{(x,y)\in k^2}{1-x-y=0}\subset \affine^2\\
  &L\cap U_1=\set{[x_0:1:x_2]\in\proj^2}{x_0-1-x_2=0}
  \approx \set{(x,y)\in k^2}{-1+x-y=0}\subset \affine^2\\
  &L\cap U_2=\set{[x_0:x_1:1]\in\proj^2}{x_0-x_1-1=0}
  \approx \set{(x,y)\in k^2}{x-y-1=0}\subset \affine^2
  \end{align*}
  となって、$L$は各$U_i\approx \affine^2$上で直線のようにふるまっていることがわかる。
\end{eg}

\begin{eg}
  $\proj^2$中の2直線
  \begin{align*}
    L_1=\set{[x_0:x_1:x_2]\in\proj^2}{x_0-x_1-x_2=0}\\
    L_2=\set{[x_0:x_1:x_2]\in\proj^2}{x_0+x_1+x_2=0}
  \end{align*}
  を考える。
  \begin{align*}
    L_1\cap U_0\approx\set{(x,y)\in k^2}{-1+x+y=0}\subset\affine^2\\
    L_2\cap U_0\approx\set{(x,y)\in k^2}{1+x+y=0}\subset\affine^2
  \end{align*}
  ゆえに$L_1\cap U_0$, $L_2\cap U_0$は平行である。一方で、
  \[
  L_1\cap L_2=\set{[x_0:x_1:x_2]\in\proj^2}{
    \begin{array}{cc}
      x_0-x_1-x_2 & =0\\
      x_0+x_1+x_2 & =0
    \end{array}}=\{[0:1:-1]\}\notin U_0
  \]
  だから、$\affine^2$の平行線が$\proj^2$にまで拡張することで無限遠で交わっていると考えることができる。
\end{eg}

\begin{eg}
  $k$を代数閉体とする。$\proj^n$の$d$次超曲面$S=V(F)$と直線$L=V(G_1,\cdots,G_{n-1})$の交点は重複もこめてちょうど$d$個である。$\tilde{V}(F)$, $\tilde{V}(G_1,\cdots,G_{n-1})$を$\affine^{n+1}$における代数的集合とすれば、
  \[
  V(F)\cap V(G_1,\cdots,G_{n-1})=p(\tilde{V}(F)\cap\tilde{V}(G_1,\cdots,G_{n-1})\setminus\{0\})  
  \]
  である。
  \begin{align*}
  G_i=a_{i0}X_0+\cdots+a_{in}X_n  
  \end{align*}
  とおけば
  \begin{align*}
    \tilde{V}(G_1,\cdots,G_{n-1})&=\set{(x_0,x_1,\cdots,x_n)\in \affine^{n+1}}{\pmat{
      a_{10} & a_{11} & \cdots & a_{1n}\\
      \vdots & \vdots & \cdots & \vdots \\
      a_{n-1,0} & a_{n-1,1} & \cdots & a_{n-1,n}
      }\pmat{x_0\\x_1\\\vdots\\x_n}=0}\\
    &=\set{(\alpha_0x+\beta_0 y,\cdots,\alpha_nx+\beta_ny)}{x,y\in k}
  \end{align*}
  となる$\alpha_0,\cdots,\alpha_n,\beta_0,\cdots,\beta_n$が存在し、$(\alpha_0,\cdots,\alpha_n), (\beta_0,\cdots,\beta_n)$は1次独立。よって
  \begin{align*}
    &(\alpha_0x+\beta_0 y,\cdots,\alpha_nx+\beta_ny)\in \tilde{V}(F)\\
    &\Leftrightarrow F(\alpha_0x+\beta_0y,\alpha_1x+\beta_1y,\cdots,\alpha_nx+\beta_ny)=0
  \end{align*}
  $H(X,Y)=F(\alpha_0X+\beta_0Y,\alpha_1X+\beta_1Y,\cdots,\alpha_nX+\beta_nY)$とおくと$H$は$X,Y$の$d$次斉次多項式であるから、$k$が代数閉より、次に述べる補題により
  \[
  H(X,Y)=\prod_{i=1}^d(t_iX+s_iY)  
  \]
  と書くことができる。よって$H(X,Y)$の零点集合はたかだか$d$本の原点を通る直線であるから、それらに対応して$\tilde{V}(F)\cap\tilde{V}(G_1,\cdots,G_{n-1})$もたかだか$d$本の原点を通る直線からなる。したがってその射影化$V(F)\cap V(G_1,\cdots,G_{n-1})=p(\tilde{V}(F)\cap\tilde{V}(G_1,\cdots,G_{n-1})\setminus\{0\})$もたかだか$d$個の点からなる。
\end{eg}

\begin{lemm}
  $k$を代数閉体, $H(X,Y)$を$d$次斉次多項式とする。
  \[
  H(X,Y)=\prod_{i=1}^{d}(t_iX+s_iY)
  \]
  となる$t_i,s_i\in k$が存在する。
\end{lemm}

\begin{proof}
  ここでも多項式の「斉次化」,「非斉次化」がポイントになる。$k$は代数閉なので
  \[
  H(X,1)=\prod_{i=1}^d(t_{i}X+s_i)  
  \]
  と書くことができる。一方、
  \[
  H(X,Y)=\sum_{i=0}^dc_{i}X^iY^{d-i}  
  \]
  とおくと、
  \[
  Y^dH(\frac{X}{Y},1)
  =Y^d\sum_{i=0}^dc_{i}\frac{X^i}{Y^i}  
  =\sum_{i=0}^dc_{i}X^iY^{d-i}=H(X,Y)
  \]
  となることがわかる。したがって、
  \[
  H(X,Y)=Y^dH(\frac{X}{Y},1)=Y^d\prod_{i=1}^d(t_i\frac{X}{Y}+s_i)=\prod_{i=1}^{d}(t_iX+s_iY) 
  \]
\end{proof}






\end{document}